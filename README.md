# Онлайн-платформа торговой сети электроники


### Стек технологий 
- Python 3.8+
- Django 3+
- DRF 3.10+
- PostgreSQL 10+
- Docker

### Задание
> - Создайте веб-приложение с API-интерфейсом и админ-панелью.
> - Создайте базу данных, используя миграции Django.

1) Необходимо реализовать модель сети по продаже электроники.

Сеть должна представлять собой иерархическую структуру из трех уровней:
- завод;
- розничная сеть;
- индивидуальный предприниматель.

2) Сделать вывод в админ-панели созданных объектов.
На странице объекта сети добавить:

- ссылку на «Поставщика»;
- фильтр по названию города;
- admin action, очищающий задолженность перед поставщиком у выбранных объектов.
3) Используя DRF, создать набор представлений
- CRUD для модели поставщика (запретить обновление через API поля «Задолженность перед поставщиком»).

- Добавить возможность фильтрации объектов по определенной стране
4) Настроить права доступа к API так, чтобы только активные сотрудники имели доступ к API

### Инструкция локального развертывания проекта

1. Скопируйте проект любым удобным способом.
2. Установите зависимости из файла requirements.txt
3. Создайте базу данных
4. Настройте переменные окружения:
- Создайте файл .env в корневой директории
- Скопируйте в него содержимое файла .env_example и подставьте свои значения

5. Примените миграции
> python manage.py migrate
6. Запустите сервер
> python manage.py runserver

### Инструкция для запуска проекта в Docker
1. Установка Docker и Docker Compose

Убедитесь, что Docker установлен на вашей системе. Если Docker не установлен, следуйте инструкциям для вашей операционной системы, чтобы установить Docker.

2. Клонирование репозитория

Произведите клонирование данного репозитория с помощью команды git clone 
 
3. Настройка файла .env

- Создайте файл .env в корневой директории проекта.
- В файле .env укажите необходимые переменные окружения, такие как порты, пароли, и другие настройки, которые требуются для вашего проекта.

4. Запуск контейнеров Docker 
- Откройте терминал и перейдите в корневую директорию проекта.
- Запустите команду
> docker-compose build
> 
> docker-compose up

или можно воспользоваться одной командой
> docker-compose up -d --build

для запуска Docker контейнеров, описанных в файле docker-compose.yml.
- Дождитесь, пока все контейнеры успешно запустятся.

5. Проверка работоспособности

Откройте веб-браузер и перейдите по указанному вами адресу и порту, чтобы убедиться, что ваше приложение работает должным образом.
6. Остановка контейнеров

Чтобы остановить контейнеры, откройте терминал и выполните команду
> docker-compose down
 
### Инструкция к использованию
#####  Административная панель:

Для создания суперпользователя (админа) выполните команду

> python manage.py csu

Откройте административную панель по адресу http://localhost:8000/admin/ и введите e-mail и пароль суперпользователя
#####  Фикстуры

В папке fixtures находится файл data.json, который можно использовать для заполнения базы данных

> python manage.py loaddata fixtures\data.json

### Документация
Документация по API доступна по адресам:

- Swagger - http://127.0.0.1:8000/swagger/
- Redoc - http://127.0.0.1:8000/redoc/
